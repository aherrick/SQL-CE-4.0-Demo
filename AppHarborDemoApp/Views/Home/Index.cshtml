@model CommentsVM
           
@{
    ViewBag.Title = "Home";
}

@section head {

<script src="/Content/js/HomeIndex.js" type="text/javascript"></script>

}

<div style="padding: 15px">

    @using (Html.BeginForm("Index", "Home"))
    {
        <table>
            <tr>
                <td>
                      @Html.LabelFor(x => x.Comment.Message, "Drop me a line below:") <br />
                      @Html.TextAreaFor(x => x.Comment.Message, 4, 40, null)
                      @Html.ValidationMessageFor(x => x.Comment.Message)
                </td>
            </tr>
            <tr>
                <td>
                      @Html.LabelFor(x => x.Comment.Age, "Age:") <br />
                      @Html.TextBoxFor(x => x.Comment.Age)
                      @Html.ValidationMessageFor(x => x.Comment.Age)
                </td>
            </tr>        
            <tr>
                <td>
                      @Html.LabelFor(x => x.Comment.Cool, "Are you cool?") <br />
                      @Html.CheckBoxFor(x => x.Comment.Cool)
                </td>
            </tr>    
            <tr>
                <td>
                      <input type="submit" value="submit" />
                </td>
            </tr>   
        </table>
    }

    <br />

    @if (Model.Comments.Any())
    {

    <table>
    <tr>
        <th>
            Message
        </th>
        <th>
            Age
        </th>
        <th>
            Cool?
        </th>
        <th>
            Created On
        </th>
        <th>
        </th>
    </tr>

@foreach (var c in Model.Comments)
{
    <tr>
        <td>
            @c.Message
        </td>
        <td>
            @c.Age
        </td>
        <td>
            @c.Cool
        </td>
        <td>
            @c.CreatedOn.ToString("g")
        </td>
        <td>
            <a href="#" onclick="return deleteComment(@c.Id);">
                <img src="/Content/img/remove16.png" alt="Delete Comment" /></a>
        </td>
    </tr>
}

</table>
        
    }

</div>